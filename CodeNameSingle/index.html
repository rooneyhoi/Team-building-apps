<!DOCTYPE html>

<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Codenames - AI Practice</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

```
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  padding: 20px;
  color: #fff;
}

#app {
  max-width: 1400px;
  margin: 0 auto;
}

/* Header */
#header {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 30px;
  margin-bottom: 30px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.header-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 20px;
  margin-bottom: 20px;
}

h1 {
  font-size: 2.5rem;
  font-weight: 700;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
}

.language-selector {
  display: flex;
  gap: 10px;
  align-items: center;
}

.language-selector select {
  padding: 10px 20px;
  border-radius: 10px;
  border: none;
  background: rgba(255, 255, 255, 0.9);
  color: #333;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
}

.language-selector select:hover {
  background: #fff;
  transform: translateY(-2px);
}

.stats-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
  margin-top: 20px;
}

.stat-box {
  background: rgba(255, 255, 255, 0.15);
  padding: 15px;
  border-radius: 15px;
  text-align: center;
}

.stat-label {
  font-size: 0.9rem;
  opacity: 0.9;
  margin-bottom: 5px;
}

.stat-value {
  font-size: 1.8rem;
  font-weight: 700;
}

.stat-value.red { color: #ff6b6b; }
.stat-value.blue { color: #4ecdc4; }
.stat-value.yellow { color: #ffd93d; }

/* AI Hint */
#ai-hint {
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  border-radius: 15px;
  padding: 20px;
  margin-bottom: 30px;
  text-align: center;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.hint-label {
  font-size: 1rem;
  opacity: 0.9;
  margin-bottom: 10px;
}

.hint-text {
  font-size: 2rem;
  font-weight: 700;
  color: #ffd93d;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.hint-history {
  margin-top: 15px;
  font-size: 0.9rem;
  opacity: 0.8;
}

/* Game Board */
#game-board {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 15px;
  margin-bottom: 30px;
}

.card {
  aspect-ratio: 1;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 15px;
  padding: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-size: 1.1rem;
  font-weight: 600;
  color: #333;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  position: relative;
  overflow: hidden;
}

.card:hover:not(.revealed) {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
}

.card.revealed {
  cursor: default;
  color: #fff;
}

.card.revealed.red {
  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
}

.card.revealed.blue {
  background: linear-gradient(135deg, #4ecdc4 0%, #44a3a0 100%);
}

.card.revealed.neutral {
  background: linear-gradient(135deg, #f0f0f0 0%, #d4d4d4 100%);
  color: #666;
}

.card.revealed.assassin {
  background: linear-gradient(135deg, #2c3e50 0%, #000000 100%);
}

.card.spymaster-mode::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  opacity: 0.3;
  pointer-events: none;
}

.card.spymaster-mode.red::before {
  background: #ff6b6b;
}

.card.spymaster-mode.blue::before {
  background: #4ecdc4;
}

.card.spymaster-mode.neutral::before {
  background: #f0f0f0;
}

.card.spymaster-mode.assassin::before {
  background: #000;
}

/* Controls */
#controls {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 30px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.controls-row {
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
}

button {
  padding: 15px 30px;
  border: none;
  border-radius: 12px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}

button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

button:active {
  transform: translateY(0);
}

.btn-primary {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: #fff;
}

.btn-secondary {
  background: rgba(255, 255, 255, 0.9);
  color: #333;
}

.btn-danger {
  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
  color: #fff;
}

.btn-success {
  background: linear-gradient(135deg, #51cf66 0%, #37b24d 100%);
  color: #fff;
}

.timer-display {
  font-size: 1.5rem;
  font-weight: 700;
  padding: 10px 20px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 10px;
}

.timer-display.warning {
  animation: pulse 1s infinite;
  background: rgba(255, 107, 107, 0.3);
}

@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.6; }
}

/* Game Over Modal */
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(5px);
  z-index: 1000;
  align-items: center;
  justify-content: center;
}

.modal.show {
  display: flex;
}

.modal-content {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 50px;
  border-radius: 30px;
  text-align: center;
  max-width: 500px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
}

.modal-content h2 {
  font-size: 3rem;
  margin-bottom: 20px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
}

.modal-content p {
  font-size: 1.3rem;
  margin-bottom: 30px;
  opacity: 0.9;
}

@media (max-width: 768px) {
  #game-board {
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
  }

  .card {
    font-size: 0.9rem;
    padding: 15px;
  }

  h1 {
    font-size: 1.8rem;
  }

  .controls-row {
    flex-direction: column;
  }

  button {
    width: 100%;
  }
}
```

  </style>
</head>
<body>
  <div id="app">
    <div id="header">
      <div class="header-top">
        <h1 id="game-title">CODENAMES</h1>
        <div class="language-selector">
          <select id="language-select">
            <option value="vi">üáªüá≥ Ti·∫øng Vi·ªát</option>
            <option value="en">üá¨üáß English</option>
            <option value="fr">üá´üá∑ Fran√ßais</option>
            <option value="de">üá©üá™ Deutsch</option>
          </select>
        </div>
      </div>
      <div class="stats-container">
        <div class="stat-box">
          <div class="stat-label" id="label-red-found">ƒê·ªè ƒë√£ t√¨m</div>
          <div class="stat-value red"><span id="red-found">0</span>/<span id="red-total">8</span></div>
        </div>
        <div class="stat-box">
          <div class="stat-label" id="label-guesses-left">L∆∞·ª£t ƒëo√°n c√≤n l·∫°i</div>
          <div class="stat-value yellow" id="guesses-left">0</div>
        </div>
        <div class="stat-box">
          <div class="stat-label" id="label-timer-total">Th·ªùi gian t·ªïng</div>
          <div class="stat-value" id="timer-total">20:00</div>
        </div>
        <div class="stat-box">
          <div class="stat-label" id="label-timer-turn">Th·ªùi gian l∆∞·ª£t</div>
          <div class="stat-value" id="timer-turn">2:00</div>
        </div>
      </div>
    </div>

```
<div id="ai-hint">
  <div class="hint-label" id="label-ai-hint">ü§ñ G·ª£i √Ω t·ª´ AI Spymaster</div>
  <div class="hint-text" id="hint-text">---</div>
  <div class="hint-history" id="hint-history"></div>
</div>

<div id="game-board"></div>

<div id="controls">
  <div class="controls-row">
    <button class="btn-primary" id="btn-new-hint">G·ª£i √Ω m·ªõi</button>
    <button class="btn-secondary" id="btn-end-turn">K·∫øt th√∫c l∆∞·ª£t</button>
    <button class="btn-secondary" id="btn-spymaster">Ch·∫ø ƒë·ªô Spymaster</button>
    <button class="btn-danger" id="btn-new-game">Game m·ªõi</button>
  </div>
</div>
```

  </div>

  <div class="modal" id="game-over-modal">
    <div class="modal-content">
      <h2 id="modal-title">üéâ</h2>
      <p id="modal-message"></p>
      <button class="btn-success" id="btn-play-again">Ch∆°i l·∫°i</button>
    </div>
  </div>

  <script>
    // ============================================
    // DATA.JS - Game Data
    // ============================================
    const gameData = {
      words: {
        vi: [
          "Ch√≥", "M√®o", "Voi", "G√†", "L·ª£n", "B√≤", "C√°", "Chim", "R·∫Øn", "Chu·ªôt",
          "T√°o", "Chu·ªëi", "Cam", "Xo√†i", "D·ª´a", "·ªîi", "M√≠t", "MƒÉng c·ª•t", "S·∫ßu ri√™ng", "Nho",
          "Vi·ªát Nam", "Ph√°p", "ƒê·ª©c", "M·ªπ", "Nh·∫≠t", "Trung Qu·ªëc", "Anh", "√ù", "Nga", "H√†n Qu·ªëc",
          "H√† N·ªôi", "Paris", "Berlin", "London", "Tokyo", "B·∫Øc Kinh", "Moscow", "Seoul", "Rome", "Madrid",
          "Guitar", "Piano", "Tr·ªëng", "S√°o", "Violin", "H·∫°c c·∫ßm", "K√®n", "Flute", "Cello", "Bass",
          "B√≥ng ƒë√°", "Tennis", "B∆°i l·ªôi", "Ch·∫°y", "C·∫ßu l√¥ng", "B√≥ng r·ªï", "Voley", "Golf", "Boxing", "Yoga",
          "ƒê·ªè", "Xanh", "V√†ng", "Tr·∫Øng", "ƒêen", "T√≠m", "H·ªìng", "Cam", "N√¢u", "X√°m",
          "M·∫∑t tr·ªùi", "M·∫∑t trƒÉng", "Sao", "Tr√°i ƒë·∫•t", "Sao H·ªèa", "Sao Kim", "Sao Th·ªßy", "Sao M·ªôc", "Sao Th·ªï", "Thi√™n H√†",
          "N∆∞·ªõc", "L·ª≠a", "ƒê·∫•t", "Kh√¥ng kh√≠", "Kim lo·∫°i", "G·ªó", "ƒê√°", "C√°t", "BƒÉng", "H∆°i",
          "B√°c sƒ©", "Gi√°o vi√™n", "K·ªπ s∆∞", "Lu·∫≠t s∆∞", "N√¥ng d√¢n", "Th·ª£ x√¢y", "ƒê·∫ßu b·∫øp", "Y t√°", "Phi c√¥ng", "L√°i xe",
          "Xe h∆°i", "M√°y bay", "T√†u", "Xe ƒë·∫°p", "Xe m√°y", "T√†u ƒëi·ªán", "T√™n l·ª≠a", "Tr·ª±c thƒÉng", "Thuy·ªÅn", "Xe bu√Ωt",
          "Nh√†", "Tr∆∞·ªùng", "B·ªánh vi·ªán", "Si√™u th·ªã", "C√¥ng vi√™n", "B·∫£o t√†ng", "R·∫°p phim", "Nh√† h√†ng", "Kh√°ch s·∫°n", "S√¢n bay",
          "S√°ch", "B√∫t", "Gi·∫•y", "M√°y t√≠nh", "ƒêi·ªán tho·∫°i", "Ti vi", "Radio", "ƒê·ªìng h·ªì", "M√°y ·∫£nh", "K√≠nh",
          "M∆∞a", "Tuy·∫øt", "Gi√≥", "S∆∞∆°ng", "M√¢y", "N·∫Øng", "S·∫•m", "Ch·ªõp", "L≈©", "H·∫°n",
          "Y√™u", "Gh√©t", "Vui", "Bu·ªìn", "Gi·∫≠n", "S·ª£", "Ng·∫°c nhi√™n", "B√¨nh tƒ©nh", "Lo l·∫Øng", "H·∫°nh ph√∫c",
          "M·ªôt", "Hai", "Ba", "B·ªën", "NƒÉm", "S√°u", "B·∫£y", "T√°m", "Ch√≠n", "M∆∞·ªùi",
          "S√°ng", "Tr∆∞a", "Chi·ªÅu", "T·ªëi", "ƒê√™m", "B√¨nh minh", "Ho√†ng h√¥n", "N·ª≠a ƒë√™m", "Bu·ªïi s√°ng", "Bu·ªïi chi·ªÅu",
          "M√πa xu√¢n", "M√πa h·∫°", "M√πa thu", "M√πa ƒë√¥ng", "T·∫øt", "Gi√°ng sinh", "L·ªÖ", "Sinh nh·∫≠t", "C∆∞·ªõi", "T·ªët nghi·ªáp",
          "ƒÇn", "U·ªëng", "Ng·ªß", "Ch·∫°y", "Nh·∫£y", "H√°t", "N√≥i", "Nghe", "Nh√¨n", "Suy nghƒ©",
          "L·ªõn", "Nh·ªè", "Cao", "Th·∫•p", "D√†i", "Ng·∫Øn", "N·∫∑ng", "Nh·∫π", "Nhanh", "Ch·∫≠m"
        ],
        en: [
          "Dog", "Cat", "Elephant", "Chicken", "Pig", "Cow", "Fish", "Bird", "Snake", "Mouse",
          "Apple", "Banana", "Orange", "Mango", "Coconut", "Guava", "Jackfruit", "Mangosteen", "Durian", "Grape",
          "Vietnam", "France", "Germany", "America", "Japan", "China", "England", "Italy", "Russia", "Korea",
          "Hanoi", "Paris", "Berlin", "London", "Tokyo", "Beijing", "Moscow", "Seoul", "Rome", "Madrid",
          "Guitar", "Piano", "Drums", "Flute", "Violin", "Harp", "Trumpet", "Saxophone", "Cello", "Bass",
          "Football", "Tennis", "Swimming", "Running", "Badminton", "Basketball", "Volleyball", "Golf", "Boxing", "Yoga",
          "Red", "Blue", "Yellow", "White", "Black", "Purple", "Pink", "Orange", "Brown", "Gray",
          "Sun", "Moon", "Star", "Earth", "Mars", "Venus", "Mercury", "Jupiter", "Saturn", "Galaxy",
          "Water", "Fire", "Earth", "Air", "Metal", "Wood", "Stone", "Sand", "Ice", "Steam",
          "Doctor", "Teacher", "Engineer", "Lawyer", "Farmer", "Builder", "Chef", "Nurse", "Pilot", "Driver",
          "Car", "Plane", "Ship", "Bicycle", "Motorcycle", "Train", "Rocket", "Helicopter", "Boat", "Bus",
          "House", "School", "Hospital", "Supermarket", "Park", "Museum", "Cinema", "Restaurant", "Hotel", "Airport",
          "Book", "Pen", "Paper", "Computer", "Phone", "Television", "Radio", "Clock", "Camera", "Glasses",
          "Rain", "Snow", "Wind", "Fog", "Cloud", "Sunshine", "Thunder", "Lightning", "Flood", "Drought",
          "Love", "Hate", "Happy", "Sad", "Angry", "Afraid", "Surprised", "Calm", "Worried", "Joy",
          "One", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine", "Ten",
          "Morning", "Noon", "Afternoon", "Evening", "Night", "Dawn", "Dusk", "Midnight", "Sunrise", "Sunset",
          "Spring", "Summer", "Autumn", "Winter", "New Year", "Christmas", "Holiday", "Birthday", "Wedding", "Graduation",
          "Eat", "Drink", "Sleep", "Run", "Dance", "Sing", "Talk", "Listen", "See", "Think",
          "Big", "Small", "Tall", "Short", "Long", "Brief", "Heavy", "Light", "Fast", "Slow"
        ],
        fr: [
          "Chien", "Chat", "√âl√©phant", "Poulet", "Cochon", "Vache", "Poisson", "Oiseau", "Serpent", "Souris",
          "Pomme", "Banane", "Orange", "Mangue", "Noix de coco", "Goyave", "Jacquier", "Mangoustan", "Durian", "Raisin",
          "Vietnam", "France", "Allemagne", "Am√©rique", "Japon", "Chine", "Angleterre", "Italie", "Russie", "Cor√©e",
          "Hano√Ø", "Paris", "Berlin", "Londres", "Tokyo", "P√©kin", "Moscou", "S√©oul", "Rome", "Madrid",
          "Guitare", "Piano", "Batterie", "Fl√ªte", "Violon", "Harpe", "Trompette", "Saxophone", "Violoncelle", "Basse",
          "Football", "Tennis", "Natation", "Course", "Badminton", "Basketball", "Volleyball", "Golf", "Boxe", "Yoga",
          "Rouge", "Bleu", "Jaune", "Blanc", "Noir", "Violet", "Rose", "Orange", "Marron", "Gris",
          "Soleil", "Lune", "√âtoile", "Terre", "Mars", "V√©nus", "Mercure", "Jupiter", "Saturne", "Galaxie",
          "Eau", "Feu", "Terre", "Air", "M√©tal", "Bois", "Pierre", "Sable", "Glace", "Vapeur",
          "M√©decin", "Professeur", "Ing√©nieur", "Avocat", "Agriculteur", "Constructeur", "Chef", "Infirmi√®re", "Pilote", "Chauffeur",
          "Voiture", "Avion", "Bateau", "V√©lo", "Moto", "Train", "Fus√©e", "H√©licopt√®re", "Canot", "Bus",
          "Maison", "√âcole", "H√¥pital", "Supermarch√©", "Parc", "Mus√©e", "Cin√©ma", "Restaurant", "H√¥tel", "A√©roport",
          "Livre", "Stylo", "Papier", "Ordinateur", "T√©l√©phone", "T√©l√©vision", "Radio", "Horloge", "Appareil photo", "Lunettes",
          "Pluie", "Neige", "Vent", "Brouillard", "Nuage", "Soleil", "Tonnerre", "√âclair", "Inondation", "S√©cheresse",
          "Amour", "Haine", "Heureux", "Triste", "F√¢ch√©", "Effray√©", "Surpris", "Calme", "Inquiet", "Joie",
          "Un", "Deux", "Trois", "Quatre", "Cinq", "Six", "Sept", "Huit", "Neuf", "Dix",
          "Matin", "Midi", "Apr√®s-midi", "Soir", "Nuit", "Aube", "Cr√©puscule", "Minuit", "Lever du soleil", "Coucher du soleil",
          "Printemps", "√ât√©", "Automne", "Hiver", "Nouvel An", "No√´l", "Vacances", "Anniversaire", "Mariage", "Remise des dipl√¥mes",
          "Manger", "Boire", "Dormir", "Courir", "Danser", "Chanter", "Parler", "√âcouter", "Voir", "Penser",
          "Grand", "Petit", "Grand", "Court", "Long", "Bref", "Lourd", "L√©ger", "Rapide", "Lent"
        ],
        de: [
          "Hund", "Katze", "Elefant", "Huhn", "Schwein", "Kuh", "Fisch", "Vogel", "Schlange", "Maus",
          "Apfel", "Banane", "Orange", "Mango", "Kokosnuss", "Guave", "Jackfrucht", "Mangostane", "Durian", "Traube",
          "Vietnam", "Frankreich", "Deutschland", "Amerika", "Japan", "China", "England", "Italien", "Russland", "Korea",
          "Hanoi", "Paris", "Berlin", "London", "Tokio", "Peking", "Moskau", "Seoul", "Rom", "Madrid",
          "Gitarre", "Klavier", "Schlagzeug", "Fl√∂te", "Violine", "Harfe", "Trompete", "Saxophon", "Cello", "Bass",
          "Fu√üball", "Tennis", "Schwimmen", "Laufen", "Badminton", "Basketball", "Volleyball", "Golf", "Boxen", "Yoga",
          "Rot", "Blau", "Gelb", "Wei√ü", "Schwarz", "Lila", "Rosa", "Orange", "Braun", "Grau",
          "Sonne", "Mond", "Stern", "Erde", "Mars", "Venus", "Merkur", "Jupiter", "Saturn", "Galaxie",
          "Wasser", "Feuer", "Erde", "Luft", "Metall", "Holz", "Stein", "Sand", "Eis", "Dampf",
          "Arzt", "Lehrer", "Ingenieur", "Anwalt", "Bauer", "Bauarbeiter", "Koch", "Krankenschwester", "Pilot", "Fahrer",
          "Auto", "Flugzeug", "Schiff", "Fahrrad", "Motorrad", "Zug", "Rakete", "Hubschrauber", "Boot", "Bus",
          "Haus", "Schule", "Krankenhaus", "Supermarkt", "Park", "Museum", "Kino", "Restaurant", "Hotel", "Flughafen",
          "Buch", "Stift", "Papier", "Computer", "Telefon", "Fernseher", "Radio", "Uhr", "Kamera", "Brille",
          "Regen", "Schnee", "Wind", "Nebel", "Wolke", "Sonnenschein", "Donner", "Blitz", "√úberschwemmung", "D√ºrre",
          "Liebe", "Hass", "Gl√ºcklich", "Traurig", "W√ºtend", "√Ñngstlich", "√úberrascht", "Ruhig", "Besorgt", "Freude",
          "Eins", "Zwei", "Drei", "Vier", "F√ºnf", "Sechs", "Sieben", "Acht", "Neun", "Zehn",
          "Morgen", "Mittag", "Nachmittag", "Abend", "Nacht", "Morgend√§mmerung", "Abendd√§mmerung", "Mitternacht", "Sonnenaufgang", "Sonnenuntergang",
          "Fr√ºhling", "Sommer", "Herbst", "Winter", "Neujahr", "Weihnachten", "Urlaub", "Geburtstag", "Hochzeit", "Abschluss",
          "Essen", "Trinken", "Schlafen", "Laufen", "Tanzen", "Singen", "Sprechen", "H√∂ren", "Sehen", "Denken",
          "Gro√ü", "Klein", "Gro√ü", "Kurz", "Lang", "Kurz", "Schwer", "Leicht", "Schnell", "Langsam"
        ]
      },
      
      categories: {
        vi: {
          "ƒê·ªông v·∫≠t": ["Ch√≥", "M√®o", "Voi", "G√†", "L·ª£n", "B√≤", "C√°", "Chim", "R·∫Øn", "Chu·ªôt"],
          "Tr√°i c√¢y": ["T√°o", "Chu·ªëi", "Cam", "Xo√†i", "D·ª´a", "·ªîi", "M√≠t", "MƒÉng c·ª•t", "S·∫ßu ri√™ng", "Nho"],
          "Qu·ªëc gia": ["Vi·ªát Nam", "Ph√°p", "ƒê·ª©c", "M·ªπ", "Nh·∫≠t", "Trung Qu·ªëc", "Anh", "√ù", "Nga", "H√†n Qu·ªëc"],
          "Th·ªß ƒë√¥": ["H√† N·ªôi", "Paris", "Berlin", "London", "Tokyo", "B·∫Øc Kinh", "Moscow", "Seoul", "Rome", "Madrid"],
          "Nh·∫°c c·ª•": ["Guitar", "Piano", "Tr·ªëng", "S√°o", "Violin", "H·∫°c c·∫ßm", "K√®n", "Flute", "Cello", "Bass"],
          "Th·ªÉ thao": ["B√≥ng ƒë√°", "Tennis", "B∆°i l·ªôi", "Ch·∫°y", "C·∫ßu l√¥ng", "B√≥ng r·ªï", "Voley", "Golf", "Boxing", "Yoga"],
          "M√†u s·∫Øc": ["ƒê·ªè", "Xanh", "V√†ng", "Tr·∫Øng", "ƒêen", "T√≠m", "H·ªìng", "Cam", "N√¢u", "X√°m"],
          "H√†nh tinh": ["M·∫∑t tr·ªùi", "M·∫∑t trƒÉng", "Sao", "Tr√°i ƒë·∫•t", "Sao H·ªèa", "Sao Kim", "Sao Th·ªßy", "Sao M·ªôc", "Sao Th·ªï"],
          "Ngh·ªÅ nghi·ªáp": ["B√°c sƒ©", "Gi√°o vi√™n", "K·ªπ s∆∞", "Lu·∫≠t s∆∞", "N√¥ng d√¢n", "Th·ª£ x√¢y", "ƒê·∫ßu b·∫øp", "Y t√°", "Phi c√¥ng", "L√°i xe"],
          "Ph∆∞∆°ng ti·ªán": ["Xe h∆°i", "M√°y bay", "T√†u", "Xe ƒë·∫°p", "Xe m√°y", "T√†u ƒëi·ªán", "T√™n l·ª≠a", "Tr·ª±c thƒÉng", "Thuy·ªÅn", "Xe bu√Ωt"],
          "ƒê·ªãa ƒëi·ªÉm": ["Nh√†", "Tr∆∞·ªùng", "B·ªánh vi·ªán", "Si√™u th·ªã", "C√¥ng vi√™n", "B·∫£o t√†ng", "R·∫°p phim", "Nh√† h√†ng", "Kh√°ch s·∫°n", "S√¢n bay"],
          "ƒê·ªì v·∫≠t": ["S√°ch", "B√∫t", "Gi·∫•y", "M√°y t√≠nh", "ƒêi·ªán tho·∫°i", "Ti vi", "Radio", "ƒê·ªìng h·ªì", "M√°y ·∫£nh", "K√≠nh"],
          "Th·ªùi ti·∫øt": ["M∆∞a", "Tuy·∫øt", "Gi√≥", "S∆∞∆°ng", "M√¢y", "N·∫Øng", "S·∫•m", "Ch·ªõp", "L≈©", "H·∫°n"],
          "C·∫£m x√∫c": ["Y√™u", "Gh√©t", "Vui", "Bu·ªìn", "Gi·∫≠n", "S·ª£", "Ng·∫°c nhi√™n", "B√¨nh tƒ©nh", "Lo l·∫Øng", "H·∫°nh ph√∫c"]
        },
        en: {
          "Animals": ["Dog", "Cat", "Elephant", "Chicken", "Pig", "Cow", "Fish", "Bird", "Snake", "Mouse"],
          "Fruits": ["Apple", "Banana", "Orange", "Mango", "Coconut", "Guava", "Jackfruit", "Mangosteen", "Durian", "Grape"],
          "Countries": ["Vietnam", "France", "Germany", "America", "Japan", "China", "England", "Italy", "Russia", "Korea"],
          "Capitals": ["Hanoi", "Paris", "Berlin", "London", "Tokyo", "Beijing", "Moscow", "Seoul", "Rome", "Madrid"],
          "Instruments": ["Guitar", "Piano", "Drums", "Flute", "Violin", "Harp", "Trumpet", "Saxophone", "Cello", "Bass"],
          "Sports": ["Football", "Tennis", "Swimming", "Running", "Badminton", "Basketball", "Volleyball", "Golf", "Boxing", "Yoga"],
          "Colors": ["Red", "Blue", "Yellow", "White", "Black", "Purple", "Pink", "Orange", "Brown", "Gray"],
          "Celestial": ["Sun", "Moon", "Star", "Earth", "Mars", "Venus", "Mercury", "Jupiter", "Saturn", "Galaxy"],
          "Professions": ["Doctor", "Teacher", "Engineer", "Lawyer", "Farmer", "Builder", "Chef", "Nurse", "Pilot", "Driver"],
          "Vehicles": ["Car", "Plane", "Ship", "Bicycle", "Motorcycle", "Train", "Rocket", "Helicopter", "Boat", "Bus"],
          "Places": ["House", "School", "Hospital", "Supermarket", "Park", "Museum", "Cinema", "Restaurant", "Hotel", "Airport"],
          "Objects": ["Book", "Pen", "Paper", "Computer", "Phone", "Television", "Radio", "Clock", "Camera", "Glasses"],
          "Weather": ["Rain", "Snow", "Wind", "Fog", "Cloud", "Sunshine", "Thunder", "Lightning", "Flood", "Drought"],
          "Emotions": ["Love", "Hate", "Happy", "Sad", "Angry", "Afraid", "Surprised", "Calm", "Worried", "Joy"]
        },
        fr: {
          "Animaux": ["Chien", "Chat", "√âl√©phant", "Poulet", "Cochon", "Vache", "Poisson", "Oiseau", "Serpent", "Souris"],
          "Fruits": ["Pomme", "Banane", "Orange", "Mangue", "Noix de coco", "Goyave", "Jacquier", "Mangoustan", "Durian", "Raisin"],
          "Pays": ["Vietnam", "France", "Allemagne", "Am√©rique", "Japon", "Chine", "Angleterre", "Italie", "Russie", "Cor√©e"],
          "Capitales": ["Hano√Ø", "Paris", "Berlin", "Londres", "Tokyo", "P√©kin", "Moscou", "S√©oul", "Rome", "Madrid"],
          "Instruments": ["Guitare", "Piano", "Batterie", "Fl√ªte", "Violon", "Harpe", "Trompette", "Saxophone", "Violoncelle", "Basse"],
          "Sports": ["Football", "Tennis", "Natation", "Course", "Badminton", "Basketball", "Volleyball", "Golf", "Boxe", "Yoga"],
          "Couleurs": ["Rouge", "Bleu", "Jaune", "Blanc", "Noir", "Violet", "Rose", "Orange", "Marron", "Gris"],
          "C√©leste": ["Soleil", "Lune", "√âtoile", "Terre", "Mars", "V√©nus", "Mercure", "Jupiter", "Saturne", "Galaxie"],
          "Professions": ["M√©decin", "Professeur", "Ing√©nieur", "Avocat", "Agriculteur", "Constructeur", "Chef", "Infirmi√®re", "Pilote", "Chauffeur"],
          "V√©hicules": ["Voiture", "Avion", "Bateau", "V√©lo", "Moto", "Train", "Fus√©e", "H√©licopt√®re", "Canot", "Bus"],
          "Lieux": ["Maison", "√âcole", "H√¥pital", "Supermarch√©", "Parc", "Mus√©e", "Cin√©ma", "Restaurant", "H√¥tel", "A√©roport"],
          "Objets": ["Livre", "Stylo", "Papier", "Ordinateur", "T√©l√©phone", "T√©l√©vision", "Radio", "Horloge", "Appareil photo", "Lunettes"],
          "M√©t√©o": ["Pluie", "Neige", "Vent", "Brouillard", "Nuage", "Soleil", "Tonnerre", "√âclair", "Inondation", "S√©cheresse"],
          "√âmotions": ["Amour", "Haine", "Heureux", "Triste", "F√¢ch√©", "Effray√©", "Surpris", "Calme", "Inquiet", "Joie"]
        },
        de: {
          "Tiere": ["Hund", "Katze", "Elefant", "Huhn", "Schwein", "Kuh", "Fisch", "Vogel", "Schlange", "Maus"],
          "Fr√ºchte": ["Apfel", "Banane", "Orange", "Mango", "Kokosnuss", "Guave", "Jackfrucht", "Mangostane", "Durian", "Traube"],
          "L√§nder": ["Vietnam", "Frankreich", "Deutschland", "Amerika", "Japan", "China", "England", "Italien", "Russland", "Korea"],
          "Hauptst√§dte": ["Hanoi", "Paris", "Berlin", "London", "Tokio", "Peking", "Moskau", "Seoul", "Rom", "Madrid"],
          "Instrumente": ["Gitarre", "Klavier", "Schlagzeug", "Fl√∂te", "Violine", "Harfe", "Trompete", "Saxophon", "Cello", "Bass"],
          "Sport": ["Fu√üball", "Tennis", "Schwimmen", "Laufen", "Badminton", "Basketball", "Volleyball", "Golf", "Boxen", "Yoga"],
          "Farben": ["Rot", "Blau", "Gelb", "Wei√ü", "Schwarz", "Lila", "Rosa", "Orange", "Braun", "Grau"],
          "Himmlisch": ["Sonne", "Mond", "Stern", "Erde", "Mars", "Venus", "Merkur", "Jupiter", "Saturn", "Galaxie"],
          "Berufe": ["Arzt", "Lehrer", "Ingenieur", "Anwalt", "Bauer", "Bauarbeiter", "Koch", "Krankenschwester", "Pilot", "Fahrer"],
          "Fahrzeuge": ["Auto", "Flugzeug", "Schiff", "Fahrrad", "Motorrad", "Zug", "Rakete", "Hubschrauber", "Boot", "Bus"],
          "Orte": ["Haus", "Schule", "Krankenhaus", "Supermarkt", "Park", "Museum", "Kino", "Restaurant", "Hotel", "Flughafen"],
          "Objekte": ["Buch", "Stift", "Papier", "Computer", "Telefon", "Fernseher", "Radio", "Uhr", "Kamera", "Brille"],
          "Wetter": ["Regen", "Schnee", "Wind", "Nebel", "Wolke", "Sonnenschein", "Donner", "Blitz", "√úberschwemmung", "D√ºrre"],
          "Emotionen": ["Liebe", "Hass", "Gl√ºcklich", "Traurig", "W√ºtend", "√Ñngstlich", "√úberrascht", "Ruhig", "Besorgt", "Freude"]
        }
      },

      translations: {
        vi: {
          gameTitle: "CODENAMES",
          redFound: "ƒê·ªè ƒë√£ t√¨m",
          guessesLeft: "L∆∞·ª£t ƒëo√°n c√≤n l·∫°i",
          timerTotal: "Th·ªùi gian t·ªïng",
          timerTurn: "Th·ªùi gian l∆∞·ª£t",
          aiHint: "ü§ñ G·ª£i √Ω t·ª´ AI Spymaster",
          btnNewHint: "G·ª£i √Ω m·ªõi",
          btnEndTurn: "K·∫øt th√∫c l∆∞·ª£t",
          btnSpymaster: "Ch·∫ø ƒë·ªô Spymaster",
          btnNewGame: "Game m·ªõi",
          btnPlayAgain: "Ch∆°i l·∫°i",
          youWin: "üéâ CHI·∫æN TH·∫ÆNG!",
          youLose: "üíÄ TH·∫§T B·∫†I!",
          timeUp: "‚è∞ H·∫æT GI·ªú!",
          winMessage: "B·∫°n ƒë√£ t√¨m ƒë∆∞·ª£c t·∫•t c·∫£ th·∫ª ƒë·ªè!",
          loseAssassin: "B·∫°n ƒë√£ ch·ªçn th·∫ª Assassin!",
          loseTime: "H·∫øt th·ªùi gian! ƒê·ªôi xanh th·∫Øng v·ªõi",
          cardsFound: "th·∫ª ƒë√£ t√¨m ƒë∆∞·ª£c.",
          hintHistory: "L·ªãch s·ª≠:"
        },
        en: {
          gameTitle: "CODENAMES",
          redFound: "Red Found",
          guessesLeft: "Guesses Left",
          timerTotal: "Total Time",
          timerTurn: "Turn Time",
          aiHint: "ü§ñ AI Spymaster Hint",
          btnNewHint: "New Hint",
          btnEndTurn: "End Turn",
          btnSpymaster: "Spymaster Mode",
          btnNewGame: "New Game",
          btnPlayAgain: "Play Again",
          youWin: "üéâ YOU WIN!",
          youLose: "üíÄ YOU LOSE!",
          timeUp: "‚è∞ TIME'S UP!",
          winMessage: "You found all red cards!",
          loseAssassin: "You clicked the Assassin!",
          loseTime: "Time's up! Blue team wins with",
          cardsFound: "cards found.",
          hintHistory: "History:"
        },
        fr: {
          gameTitle: "CODENAMES",
          redFound: "Rouge Trouv√©",
          guessesLeft: "Tentatives Restantes",
          timerTotal: "Temps Total",
          timerTurn: "Temps du Tour",
          aiHint: "ü§ñ Indice du Ma√Ætre Espion IA",
          btnNewHint: "Nouvel Indice",
          btnEndTurn: "Fin du Tour",
          btnSpymaster: "Mode Ma√Ætre Espion",
          btnNewGame: "Nouveau Jeu",
          btnPlayAgain: "Rejouer",
          youWin: "üéâ VOUS GAGNEZ!",
          youLose: "üíÄ VOUS PERDEZ!",
          timeUp: "‚è∞ TEMPS √âCOUL√â!",
          winMessage: "Vous avez trouv√© toutes les cartes rouges!",
          loseAssassin: "Vous avez cliqu√© sur l'Assassin!",
          loseTime: "Temps √©coul√©! L'√©quipe bleue gagne avec",
          cardsFound: "cartes trouv√©es.",
          hintHistory: "Historique:"
        },
        de: {
          gameTitle: "CODENAMES",
          redFound: "Rot Gefunden",
          guessesLeft: "Versuche √úbrig",
          timerTotal: "Gesamtzeit",
          timerTurn: "Rundenzeit",
          aiHint: "ü§ñ KI-Spymaster Hinweis",
          btnNewHint: "Neuer Hinweis",
          btnEndTurn: "Runde Beenden",
          btnSpymaster: "Spymaster-Modus",
          btnNewGame: "Neues Spiel",
          btnPlayAgain: "Nochmal Spielen",
          youWin: "üéâ SIE GEWINNEN!",
          youLose: "üíÄ SIE VERLIEREN!",
          timeUp: "‚è∞ ZEIT IST UM!",
          winMessage: "Sie haben alle roten Karten gefunden!",
          loseAssassin: "Sie haben den Attent√§ter angeklickt!",
          loseTime: "Zeit ist um! Das blaue Team gewinnt mit",
          cardsFound: "gefundenen Karten.",
          hintHistory: "Verlauf:"
        }
      }
    };

    // ============================================
    // SCRIPT.JS - Game Logic
    // ============================================

    let gameState = {
      language: 'vi',
      cards: [],
      redCards: [],
      blueCards: [],
      neutralCards: [],
      assassinCard: null,
      revealedCards: new Set(),
      currentGuesses: 0,
      storedGuesses: 0,
      currentHint: null,
      hintHistory: [],
      spymasterMode: false,
      totalTimeLeft: 20 * 60,
      turnTimeLeft: 2 * 60,
      totalTimerInterval: null,
      turnTimerInterval: null,
      gameOver: false
    };

    // Initialize game
    function initGame() {
      loadGameState();
      setupEventListeners();
      newGame();
    }

    // Setup event listeners
    function setupEventListeners() {
      document.getElementById('language-select').addEventListener('change', changeLanguage);
      document.getElementById('btn-new-hint').addEventListener('click', generateNewHint);
      document.getElementById('btn-end-turn').addEventListener('click', endTurn);
      document.getElementById('btn-spymaster').addEventListener('click', toggleSpymasterMode);
      document.getElementById('btn-new-game').addEventListener('click', newGame);
      document.getElementById('btn-play-again').addEventListener('click', () => {
        document.getElementById('game-over-modal').classList.remove('show');
        newGame();
      });
    }

    // Change language
    function changeLanguage(e) {
      gameState.language = e.target.value;
      updateUILanguage();
      newGame();
    }

    // Update UI language
    function updateUILanguage() {
      const t = gameData.translations[gameState.language];
      document.getElementById('game-title').textContent = t.gameTitle;
      document.getElementById('label-red-found').textContent = t.redFound;
      document.getElementById('label-guesses-left').textContent = t.guessesLeft;
      document.getElementById('label-timer-total').textContent = t.timerTotal;
      document.getElementById('label-timer-turn').textContent = t.timerTurn;
      document.getElementById('label-ai-hint').textContent = t.aiHint;
      document.getElementById('btn-new-hint').textContent = t.btnNewHint;
      document.getElementById('btn-end-turn').textContent = t.btnEndTurn;
      document.getElementById('btn-spymaster').textContent = t.btnSpymaster;
      document.getElementById('btn-new-game').textContent = t.btnNewGame;
      document.getElementById('btn-play-again').textContent = t.btnPlayAgain;
    }

    // New game
    function newGame() {
      clearInterval(gameState.totalTimerInterval);
      clearInterval(gameState.turnTimerInterval);
      
      gameState.revealedCards = new Set();
      gameState.currentGuesses = 0;
      gameState.storedGuesses = 0;
      gameState.currentHint = null;
      gameState.hintHistory = [];
      gameState.spymasterMode = false;
      gameState.totalTimeLeft = 20 * 60;
      gameState.turnTimeLeft = 2 * 60;
      gameState.gameOver = false;
      
      // Generate cards
      const words = gameData.words[gameState.language];
      const shuffled = [...words].sort(() => Math.random() - 0.5).slice(0, 25);
      
      gameState.cards = shuffled.map((word, index) => ({
        word,
        type: index < 8 ? 'red' : index < 15 ? 'blue' : index < 24 ? 'neutral' : 'assassin',
        revealed: false
      }));
      
      gameState.redCards = gameState.cards.filter(c => c.type === 'red');
      gameState.blueCards = gameState.cards.filter(c => c.type === 'blue');
      gameState.neutralCards = gameState.cards.filter(c => c.type === 'neutral');
      gameState.assassinCard = gameState.cards.find(c => c.type === 'assassin');
      
      updateUILanguage();
      renderBoard();
      updateStats();
      generateNewHint();
      startTimers();
      saveGameState();
    }

    // Generate AI hint
    function generateNewHint() {
      if (gameState.gameOver) return;
      
      const unrevealed = gameState.redCards.filter(c => !gameState.revealedCards.has(c.word));
      if (unrevealed.length === 0) return;
      
      const categories = gameData.categories[gameState.language];
      let bestHint = null;
      let maxCount = 0;
      
      // Find best category that matches most unrevealed red cards
      for (const [category, words] of Object.entries(categories)) {
        const matches = unrevealed.filter(c => words.includes(c.word));
        if (matches.length > maxCount) {
          maxCount = matches.length;
          bestHint = { hint: category, count: matches.length };
        }
      }
      
      // Fallback: random hint
      if (!bestHint || maxCount === 0) {
        const randomCard = unrevealed[Math.random() * unrevealed.length | 0];
        bestHint = { hint: randomCard.word.substring(0, 3) + "...", count: 1 };
      }
      
      gameState.currentHint = bestHint;
      gameState.currentGuesses = bestHint.count + gameState.storedGuesses;
      gameState.hintHistory.push(`${bestHint.hint}: ${bestHint.count}`);
      
      // Reset turn timer
      gameState.turnTimeLeft = 2 * 60;
      
      document.getElementById('hint-text').textContent = `${bestHint.hint}: ${bestHint.count}`;
      
      const t = gameData.translations[gameState.language];
      const historyText = gameState.hintHistory.slice(-3).join(' ‚Ä¢ ');
      document.getElementById('hint-history').textContent = `${t.hintHistory} ${historyText}`;
      
      updateStats();
      saveGameState();
    }

    // End turn
    function endTurn() {
      if (gameState.gameOver) return;
      
      // Store unused guesses
      gameState.storedGuesses += gameState.currentGuesses;
      gameState.currentGuesses = 0;
      
      // Generate new hint for AI
      generateNewHint();
    }

    // Toggle spymaster mode
    function toggleSpymasterMode() {
      gameState.spymasterMode = !gameState.spymasterMode;
      renderBoard();
    }

    // Handle card click
    function handleCardClick(index) {
      if (gameState.gameOver) return;
      if (gameState.currentGuesses <= 0) return;
      
      const card = gameState.cards[index];
      if (card.revealed) return;
      
      card.revealed = true;
      gameState.revealedCards.add(card.word);
      gameState.currentGuesses--;
      
      // Check win/lose
      if (card.type === 'assassin') {
        gameOver('lose-assassin');
      } else if (card.type === 'red') {
        const redRevealed = gameState.redCards.filter(c => gameState.revealedCards.has(c.word)).length;
        if (redRevealed === 8) {
          gameOver('win');
        }
      } else {
        // Wrong guess - end turn automatically
        endTurn();
      }
      
      renderBoard();
      updateStats();
      saveGameState();
    }

    // Start timers
    function startTimers() {
      // Total timer
      gameState.totalTimerInterval = setInterval(() => {
        gameState.totalTimeLeft--;
        if (gameState.totalTimeLeft <= 0) {
          gameOver('time-up');
        }
        updateTimerDisplay();
        saveGameState();
      }, 1000);
      
      // Turn timer
      gameState.turnTimerInterval = setInterval(() => {
        gameState.turnTimeLeft--;
        if (gameState.turnTimeLeft <= 0) {
          endTurn();
        }
        updateTimerDisplay();
      }, 1000);
    }

    // Update timer display
    function updateTimerDisplay() {
      const totalMin = Math.floor(gameState.totalTimeLeft / 60);
      const totalSec = gameState.totalTimeLeft % 60;
      const turnMin = Math.floor(gameState.turnTimeLeft / 60);
      const turnSec = gameState.turnTimeLeft % 60;
      
      const totalEl = document.getElementById('timer-total');
      const turnEl = document.getElementById('timer-turn');
      
      totalEl.textContent = `${totalMin}:${totalSec.toString().padStart(2, '0')}`;
      turnEl.textContent = `${turnMin}:${turnSec.toString().padStart(2, '0')}`;
      
      // Warning when time is low
      if (gameState.totalTimeLeft < 60) {
        totalEl.classList.add('warning');
      } else {
        totalEl.classList.remove('warning');
      }
      
      if (gameState.turnTimeLeft < 30) {
        turnEl.classList.add('warning');
      } else {
        turnEl.classList.remove('warning');
      }
    }

    // Render board
    function renderBoard() {
      const board = document.getElementById('game-board');
      board.innerHTML = '';
      
      gameState.cards.forEach((card, index) => {
        const cardEl = document.createElement('div');
        cardEl.className = 'card';
        cardEl.textContent = card.word;
        
        if (card.revealed) {
          cardEl.classList.add('revealed', card.type);
        }
        
        if (gameState.spymasterMode && !card.revealed) {
          cardEl.classList.add('spymaster-mode', card.type);
        }
        
        cardEl.addEventListener('click', () => handleCardClick(index));
        board.appendChild(cardEl);
      });
    }

    // Update stats
    function updateStats() {
      const redRevealed = gameState.redCards.filter(c => gameState.revealedCards.has(c.word)).length;
      document.getElementById('red-found').textContent = redRevealed;
      document.getElementById('red-total').textContent = '8';
      document.getElementById('guesses-left').textContent = gameState.currentGuesses;
    }

    // Game over
    function gameOver(reason) {
      gameState.gameOver = true;
      clearInterval(gameState.totalTimerInterval);
      clearInterval(gameState.turnTimerInterval);
      
      const t = gameData.translations[gameState.language];
      const modal = document.getElementById('game-over-modal');
      const title = document.getElementById('modal-title');
      const message = document.getElementById('modal-message');
      
      if (reason === 'win') {
        title.textContent = t.youWin;
        message.textContent = t.winMessage;
      } else if (reason === 'lose-assassin') {
        title.textContent = t.youLose;
        message.textContent = t.loseAssassin;
      } else if (reason === 'time-up') {
        const blueRevealed = gameState.blueCards.filter(c => gameState.revealedCards.has(c.word)).length;
        title.textContent = t.timeUp;
        message.textContent = `${t.loseTime} ${blueRevealed} ${t.cardsFound}`;
      }
      
      modal.classList.add('show');
      
      // Reveal all cards
      gameState.cards.forEach(card => card.revealed = true);
      renderBoard();
    }

    // Save game state
    function saveGameState() {
      try {
        localStorage.setItem('codenames-game', JSON.stringify(gameState));
      } catch (e) {
        console.error('Failed to save game state', e);
      }
    }

    // Load game state
    function loadGameState() {
      try {
        const saved = localStorage.getItem('codenames-game');
        if (saved) {
          const loaded = JSON.parse(saved);
          // Only load if game was in progress
          if (!loaded.gameOver && loaded.cards && loaded.cards.length > 0) {
            gameState = {
              ...loaded,
              revealedCards: new Set(loaded.revealedCards || [])
            };
            return true;
          }
        }
      } catch (e) {
        console.error('Failed to load game state', e);
      }
      return false;
    }

    // Initialize when DOM is ready
    document.addEventListener('DOMContentLoaded', initGame);
  </script>

</body>
</html>
